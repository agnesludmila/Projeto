<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Página inicial</title>
  <link rel="stylesheet" href="./css/main-page.css" />
  <link rel="stylesheet" href="./css/sidebar.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
<button class="menu-toggle-btn" aria-label="Abrir menu">
  ☰
</button>
<div class="top-header">
  <div class="logo">ACHADOS <span>E PERDIDOS</span></div>
  <div class="search-wrapper" id="searchWrapper">
    <input type="text" id="searchInput" class="search-input" placeholder="Buscar..." />
    <button id="searchToggle" class="search-icon" aria-label="Buscar">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round" >
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </button>
    <div id="categoriasDropdown" class="categorias-dropdown" style="display: none;">
      <div id="feedbackCategorias" class="feedback-categorias"></div>
      <ul id="listaCategorias" class="lista-categorias"></ul>
    </div>
  </div>
</div>
<div class="container">
  <aside class="sidebar">
    <ul class="menu-lateral">
      <div class="header-sidebar">
        <li class="usuario">
          <img class="perfil-Sidebar" data-perfil-img />
          <span class="nome-usuario">Nome do usuário</span>
          <div class="usuario-email">nomedousuario@gmail.com</div>
        </li>
      </div>
      <li>
        <a href="./Profile.html" class="menu-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
            <path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2c-3.315 0-10 1.673-10 5v3h20v-3c0-3.327-6.685-5-10-5z"/>
          </svg>
          Perfil
        </a>
      </li>
      <li>
        <a href="Search.html" class="menu-link"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
          <path d="M12 3l9 9-1.5 1.5L18 12.5V20H6v-7.5l-1.5 1.5L3 12l9-9z"/>
        </svg>
          Início
        </a>
      </li>
      <li>
        <a href="./Settings.html" class="menu-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
            <path d="M19.14 12.936c.036-.306.06-.618.06-.936s-.024-.63-.07-.936l2.037-1.593a.486.486 0 0 0 .116-.612l-1.928-3.338a.487.487 0 0 0-.593-.214l-2.4.96a7.007 7.007 0 0 0-1.623-.936l-.36-2.52A.488.488 0 0 0 14 2h-4a.488.488 0 0 0-.483.405l-.36 2.52c-.6.252-1.146.57-1.623.936l-2.4-.96a.487.487 0 0 0-.593.214L2.717 8.496a.486.486 0 0 0 .116.612l2.037 1.593c-.045.3-.07.612-.07.936s.024.63.07.936L2.833 14.56a.486.486 0 0 0-.116.612l1.928 3.338c.126.222.393.312.593.214l2.4-.96c.477.366 1.023.684 1.623.936l.36 2.52A.488.488 0 0 0 10 22h4c.24 0 .45-.168.483-.405l.36-2.52c.6-.252 1.146-.57 1.623.936l2.4.96a.487.487 0 0 0 .593.214l1.928-3.338a.486.486 0 0 0-.116-.612l-2.037-1.593zM12 15.6A3.6 3.6 0 1 1 12 8.4a3.6 3.6 0 0 1 0 7.2z"/>
          </svg>
          Configurações
        </a>
      </li>
      <li>
        <a href="./LoginRegister.html" class="menu-link" id="logoutButton">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24">
            <path d="M16 13v-2H7V8l-5 4 5 4v-3h9zm3-10H5c-1.1 0-2 .9-2 2v6h2V5h14v14H5v-6H3v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
          </svg>
          Sair
        </a>
      </li>
    </ul>
  </aside>
  <div class="content-wrapper">
    <main class="main">
      <div class="post-box" id="postBox">
        <img class="perfil-img" data-perfil-img />
        <textarea id="inputPost" placeholder="Compartilhe um item perdido ou encontrado..." readonly></textarea>
        <svg class="post-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 11.5a8.38 8.38 0 0 1-1.9 5.4 8.5 8.5 0 0 1-6.6 3.1 8.38 8.38 0 0 1-5.4-1.9L3 21l1.9-4.1A8.38 8.38 0 0 1 3.9 11.5a8.5 8.5 0 0 1 3.1-6.6 8.38 8.38 0 0 1 5.4-1.9H13M12 8v4m0 0v4m0-4h4m-4 0H8"/>
        </svg>
      </div>
      <div id="feed" class="feed-container">
        <div id="lista-postagens">
        </div>
      </div>
    </main>
  </div> <div class="modal-backdrop" id="modalContato" style="display:none; z-index: 1000; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center;">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalContatoTitle" style="background-color: #fff; padding: 25px; border-radius: 8px; width: 90%; max-width: 450px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); position: relative;">
    <button class="close-btn" id="closeContatoModal" aria-label="Fechar modal" style="position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 1.8em; cursor: pointer;">&times;</button>
    <h3 id="modalContatoTitle" style="margin-top:0; margin-bottom:20px; font-size:1.6em; text-align:center;">Informações de Contato</h3>
    <p><strong>Telefone:</strong> <a id="modalTelefone" href="#"></a></p>
    <p><strong>E-mail:</strong> <a id="modalEmail" href="#"></a></p>
  </div>
  <template id="postTemplate">
    <div class="post">
      <div class="post-header">
        <img class="autor-foto-post"
             onerror="this.onerror=null; this.src='https://www.svgrepo.com/show/382106/user-alt.svg';" />
        <div class="user-info">
          <span class="name"></span>
          <span class="date"></span>
        </div>
      </div>
      <h3 class="post-title"></h3>
      <p class="post-description"></p>
      <div class="post-media" style="display: none;">
        <img class="post-imagem-principal" onerror="this.style.display='none';" />
      </div>
      <div class="post-actions">
        <button class="btn-contato">
          <i class="fas fa-phone"></i> Contato
        </button>
        <button class="btn-apagar" style="display: none;">
          <i class="fas fa-trash-alt"></i> Apagar
        </button>
      </div>
    </div>
  </template>
</div>

  <div id="modalPublicacao" class="modal-overlay" style="display: none; z-index: 1000; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center;">
    <div class="modal-content" style="background-color: #fff; padding: 20px; border-radius: 8px; width: 90%; max-width: 600px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
      <div class="form-box">
        <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;">
          <h2 class="titulo-central" style="margin: 0; font-size: 1.5em;">Criar publicação</h2>
          <button id="closeModalBtn" class="close-button" style="background: none; border: none; font-size: 1.8em; cursor: pointer; padding: 0 10px;">&times;</button>
        </div>

        <label for="titulo">Título:</label>
        <input type="text" id="titulo" placeholder="Digite o título do item" />

        <label for="descricao">Descrição:</label>
        <textarea id="descricao" placeholder="Descreva o item encontrado..."></textarea>

        <div class="btn-group">
          <label for="imagem-upload" class="btn-media">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="18" height="14" rx="2" ry="2" />
              <circle cx="8.5" cy="7" r="1.5" />
              <path d="M21 15l-5-5L5 21" />
              <circle cx="19" cy="19" r="3" />
              <line x1="19" y1="17" x2="19" y2="21" />
              <line x1="17" y1="19" x2="21" y2="19" />
            </svg>
            <span>Imagem</span>
            <input type="file" id="imagem-upload" accept="image/*" hidden />
          </label>
        </div>
        <div id="preview-container" style="margin-top:10px; text-align:center;">
        </div>
        <button class="btn-publicar" id="criarPostBtn">Publicar</button>
      </div>
    </div>
  </div>

  <div id="modalCategoriasDinamicas" class="modal-overlay" style="display: none; z-index: 1001; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center;">
    <div class="modal-content" style="background-color: #fff; padding: 20px; border-radius: 8px; width: 90%; max-width: 500px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); position: relative;">
      <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;">
        <h2 class="titulo-central" style="margin: 0; font-size: 1.5em;">Categorias Sugeridas</h2>
        <button id="closeModalCategoriasDinamicasBtn" class="close-button" style="background: none; border: none; font-size: 1.8em; cursor: pointer; padding: 0 10px;">&times;</button>
      </div>
      <div id="feedbackCategoriasDinamicas" style="padding: 10px; text-align: center; min-height: 20px;"></div>
      <ul id="listaCategoriasDinamicas" class="lista-categorias-modal"
          style="list-style: none; padding: 0; margin: 0; max-height: 300px; overflow-y: auto;">
      </ul>
    </div>
  </div>

  <script type="module" src="./js/Post.js" defer></script>
</body>
</html>